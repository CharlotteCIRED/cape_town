read.xlsx('C:/Users/Charlotte Liotta/Desktop/cape_town/2. Data/Cape_Town_data/flood_plain_grid.xlsx')
library(rgdal)
library(sf)
library(tidyverse)
library(openxlsx)
df = read.xlsx('C:/Users/Charlotte Liotta/Desktop/cape_town/2. Data/Cape_Town_data/flood_plain_grid.xlsx')
View(df)
duplicated(df$ID) | duplicated(df$ID, fromLast = TRUE)
sum(duplicated(df$ID) | duplicated(df$ID, fromLast = TRUE))
subset_20 = df[df$FL_TYPE == "20yr",]
subset_20
subset_20 = df[df$FL_TYPE == "20yr",]
subset_50 = df[df$FL_TYPE == "50yr",]
subset_100 = df[df$FL_TYPE == "100yr",]
print(subset_20$ID %in% subset50$ID)
print(subset_20$ID %in% subset_50$ID)
sum(subset_20$ID %in% subset_50$ID)
`%notin%` <- Negate(`%in%`)
sum(subset_20$ID %notin% subset_50$ID)
print(subset_20$ID %notin% subset_50$ID)
print(subset_20$ID[subset_20$ID %notin% subset_50$ID])
print(subset_20$ID[subset_20$ID %notin% subset_100$ID])
print(subset_50$ID[subset_50$ID %notin% subset_100$ID])
summary(subset_50$area[subset_50$ID %notin% subset_100$ID])
table(subset_50$area[subset_50$ID %notin% subset_100$ID])
num(df$area)
View(df)
View(df)
df$area = as.numeric(df$area)
summary(subset_50$area[subset_50$ID %notin% subset_100$ID])
df$area2 = as.numeric(df$area)
df$area = as.numeric(df$area)
summary(df$area)
`%notin%` <- Negate(`%in%`)
subset_20 = df[df$FL_TYPE == "20yr",]
subset_50 = df[df$FL_TYPE == "50yr",]
subset_100 = df[df$FL_TYPE == "100yr",]
print(subset_20$ID[subset_20$ID %notin% subset_50$ID])
print(subset_20$ID[subset_20$ID %notin% subset_100$ID])
summary(subset_50$area[subset_50$ID %notin% subset_100$ID])
df2 = subset_50[subset_50$ID %notin% subset_100$ID]
df2 = subset_50[(subset_50$ID %notin% subset_100$ID),]
View(df2)
df2$FL_TYPE = "100yr"
df2 <- rbind(df, df2)
View(df)
df$FL_TYPE[df$FLDL_DESC == "Prinskasteel 100y Floodline"] = "100yr"
df2$FL_TYPE[df2$FLDL_DESC == "Prinskasteel 100y Floodline"] = "100yr"
sum(df$area[df$FL_TYPE == "20yr"])
sum(df2$area[df$FL_TYPE == "20yr"])
sum(df$area[df$FL_TYPE == "50yr"])
sum(df2$area[df$FL_TYPE == "50yr"])
sum(df$area[df$FL_TYPE == "100yr"])
sum(df2$area[df$FL_TYPE == "100yr"])
spatial_df = st_read('C:/Users/Charlotte Liotta/Desktop/cape_town/2. Data/Cape_Town_data/flood_plain_grid.shp')
plot(spatial_df)
table(df$FLDL_DESC)
